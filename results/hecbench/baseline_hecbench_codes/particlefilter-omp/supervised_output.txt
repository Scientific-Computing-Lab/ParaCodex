Phase: supervised
Kernel: particlefilter
File: main.cpp
==================================================

=== Supervising kernel: particlefilter (omp) ===
Directory: /root/codex_baseline/cuda_omp_workdir/data/src/particlefilter-omp
[Supervisor] Launching Codex supervision for particlefilter/main.cpp...
âœ— particlefilter: failed -> nvc++ -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -std=c++14 -Wall -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -O3 -Minfo -mp=gpu -gpu=cc89 -c main.cpp -o main.o
nvc++ -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -std=c++14 -Wall -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -O3 -Minfo -mp=gpu -gpu=cc89 main.o -o main 
make -C /root/codex_baseline/cuda_omp_workdir/golden_labels/src/particlefilter-serial -f Makefile.nvc clean
make[1]: Entering directory '/root/codex_baseline/cuda_omp_workdir/golden_labels/src/particlefilter-serial'
rm -rf main main.o output.txt
make[1]: Leaving directory '/root/codex_baseline/cuda_omp_workdir/golden_labels/src/particlefilter-serial'
make -C /root/codex_baseline/cuda_omp_workdir/golden_labels/src/particlefilter-serial -f Makefile.nvc 	    CC="nvc++" OPTIMIZE="yes" DEBUG="no" DEVICE="gpu" SM="cc89" 	    CFLAGS="-I/root/codex_baseline/cuda_omp_workdir/gate_sdk -std=c++14 -Wall -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -O3 -Minfo -mp=gpu -gpu=cc89 -I/root/codex_baseline/cuda_omp_workdir/gate_sdk"
make[1]: Entering directory '/root/codex_baseline/cuda_omp_workdir/golden_labels/src/particlefilter-serial'
nvc++ -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -std=c++14 -Wall -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -O3 -Minfo -mp=gpu -gpu=cc89 -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -c main.cpp -o main.o
nvc++ -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -std=c++14 -Wall -I/root/codex_baseline/cuda_omp_workdir/gate_sdk -O3 -Minfo -mp=gpu -gpu=cc89 -I/root/codex_baseline/cuda_omp_workdir/gate_sdk main.o -o main 
make[1]: Leaving directory '/root/codex_baseline/cuda_omp_workdir/golden_labels/src/particlefilter-serial'
OMP_TARGET_OFFLOAD=MANDATORY 	python3 /root/codex_baseline/cuda_omp_workdir/gate_sdk/scripts/gate_harness.py /root/codex_baseline/cuda_omp_workdir/golden_labels/src/particlefilter-serial/main ./main -x 128 -y 128 -z 10 -np 40000
[FAIL][cand_nonzero_exit] Candidate program failed to run
subprocess failed (rc=1) for: ./main -x 128 -y 128 -z 10 -np 40000
Failing in Thread:1
Accelerator Fatal Error: call to cuMemcpyDtoHAsync returned error 700 (CUDA_ERROR_ILLEGAL_ADDRESS): Illegal address during kernel execution
 File: /root/codex_baseline/cuda_omp_workdir/data/src/particlefilter-omp/main.cpp
 Function: _Z8addNoisePhPiS0_S0_S0_:130
 Line: 147



findIndex(float*, int, float):
     87, Loop not vectorized/parallelized: potential early exits
setIf(int, int, unsigned char*, int*, int*, int*):
    104, #omp target teams distribute parallel for
        104, Generating "nvkernel__Z5setIfiiPhPiS0_S0__F1L104_2" GPU kernel
        106, Loop parallelized across teams and threads(128), schedule(static)
    104, Generating map(tofrom:array3D[:total]) 
    108, Loop not vectorized/parallelized: not countable
    119, Loop not vectorized/parallelized: not countable
addNoise(unsigned char*, int*, int*, int*, int*):
    140, Loop not vectorized/parallelized: not countable
    143, #omp target teams distribute parallel for
        143, Generating "nvkernel__Z8addNoisePhPiS0_S0_S0__F1L143_6" GPU kernel
        145, Loop parallelized across teams and threads(128), schedule(static)
    143, Generating map(tofrom:array3D[:total]) 
         Generating map(to:noise) 
    145, Loop not vectorized/parallelized: not countable
    149, Loop not vectorized/parallelized: not countable
strelDisk(int*, int):
    158, Zero trip check eliminated
         Generated vector simd code for the loop
    159, FMA (fused multiply-add) instruction(s) generated
dilate_matrix(unsigned char*, int, int, int, int, int, int, int):
    184, Loop not vectorized: unsupported scatter
    185, FMA (fused multiply-add) instruction(s) generated
imdilate_disk(unsigned char*, int, int, int, int, unsigned char*):
    194, Recognized memory zero idiom
    197, Loop not vectorized/parallelized: too deeply nested
    198, Loop not vectorized/parallelized: too deeply nested
         184, Loop not vectorized: unsupported scatter
              FMA (fused multiply-add) instruction(s) generated
getneighbors(int*, int, int*, int):
    213, Zero trip check eliminated
         Loop not vectorized: data dependency
videoSequence(unsigned char*, int, int, int, int*):
    233, Loop not vectorized/parallelized: not countable
         194, Recognized memory zero idiom
         197, Loop not fused: complex flow graph
              Loop not vectorized/parallelized: too deeply nested
         198, Loop not vectorized/parallelized: too deeply nested
         201, Loop not vectorized: unsupported scatter
              FMA (fused multiply-add) instruction(s) generated
         247, Loop nest collapsed
    245, Outer loop unrolled 1 times (completely unrolled)
    246, Outer loop unrolled 1 times (completely unrolled)
    247, Loop not vectorized/parallelized: not countable
particleFilter(unsigned char*, int, int, int, int*, int):
     42, FMA (fused multiply-add) instruction(s) generated
          52, FMA (fused multiply-add) instruction(s) generated
         157, Loop not fused: different loop trip count
         158, Generated vector simd code for the loop
              FMA (fused multiply-add) instruction(s) generated
         469, FMA (fused multiply-add) instruction(s) generated
         474, FMA (fused multiply-add) instruction(s) generated
        1047, FMA (fused multiply-add) instruction(s) generated
                  4067, Loop not fused: function call before adjacent loop
                        Generated vector simd code for the loop containing reductions
         212, Loop not fused: function call before adjacent loop
         213, Loop not vectorized: data dependency
    312, #omp target teams distribute parallel for
        312, Generating "nvkernel__Z14particleFilterPhiiiPii_F1L312_10" GPU kernel
        315, Loop parallelized across teams and threads(128), schedule(static)
    312, Generating map(tofrom:weights_ptr[:Nparticles],yj_ptr[:Nparticles],xj_ptr[:Nparticles],arrayX_ptr[:Nparticles],arrayY_ptr[:Nparticles]) 
    315, Loop not vectorized/parallelized: not countable
    323, Loop not vectorized/parallelized: contains call
    330, #omp target teams distribute parallel for thread_limit(256)
        330, Generating "nvkernel__Z14particleFilterPhiiiPii_F1L330_12" GPU kernel
             Loop parallelized across teams and threads(128), schedule(static)
             Generating reduction(+:weightSum)
    330, Generating map(tofrom:seed[:Nparticles],I_ptr[:max_size],arrayX_ptr[:Nparticles],weights_ptr[:Nparticles],yj_ptr[:Nparticles],xj_ptr[:Nparticles],weightSum,objxy_ptr[:countOnes*2],arrayY_ptr[:Nparticles],likelihood_ptr[:Nparticles]) 
         Loop not vectorized/parallelized: not countable
    348, Loop not vectorized: unsupported gather
    363, FMA (fused multiply-add) instruction(s) generated
    376, #omp target teams distribute parallel for
        376, Generating "nvkernel__Z14particleFilterPhiiiPii_F1L376_14" GPU kernel
        380, Loop parallelized across teams and threads(128), schedule(static)
    376, Generating map(tofrom:weights_ptr[:Nparticles]) 
    380, Loop not vectorized/parallelized: not countable
    387, Generating update from(weights_ptr[:Nparticles],seed[:1])
    388, Loop not fused: dependence chain to sibling loop
         Loop not vectorized: data dependency
         Loop unrolled 8 times
    397, Loop not fused: function call before adjacent loop
         Generated vector simd code for the loop
    399, #omp target teams distribute parallel for thread_limit(256)
        312, Generating map(alloc:CDF_ptr[:Nparticles],likelihood_ptr[:Nparticles]) 
             Generating map(to:I_ptr[:max_size]) 
             Generating map(tofrom:arrayX_ptr[:Nparticles],weights_ptr[:Nparticles],xj_ptr[:Nparticles],yj_ptr[:Nparticles]) 
             Generating map(alloc:u_ptr[:Nparticles]) 
             Generating map(to:objxy_ptr[:countOnes*2]) 
             Generating map(tofrom:arrayY_ptr[:Nparticles],seed[:Nparticles]) 
        399, Generating "nvkernel__Z14particleFilterPhiiiPii_F1L399_16" GPU kernel
        407, Loop parallelized across teams and threads(128), schedule(static)
    399, Generating update to(CDF_ptr[:Nparticles],u_ptr[:Nparticles],seed[:1])
         Generating map(tofrom:CDF_ptr[:Nparticles],arrayX_ptr[:Nparticles],u_ptr[:Nparticles],yj_ptr[:Nparticles],xj_ptr[:Nparticles],arrayY_ptr[:Nparticles]) 
          64, Loop not vectorized/parallelized: not countable
    455, Invariant if transformation
         Loop not vectorized/parallelized: not countable
    469, Loop not vectorized: unsupported gather
         Loop unrolled 2 times
    483, Loop not vectorized/parallelized: not countable
    484, Loop not vectorized: data dependency
         Loop unrolled 4 times
    492, Loop not fused: function call before adjacent loop
         Generated vector simd code for the loop containing reductions
         Loop unrolled 8 times
    500, Loop not fused: different loop trip count
         Generated vector simd code for the loop
    505, Loop not fused: dependence chain to sibling loop
         Loop not vectorized: data dependency
         Loop unrolled 8 times
    516, Generated vector simd code for the loop
          87, Loop not vectorized/parallelized: potential early exits
         432, Loop not vectorized/parallelized: too deeply nested
    549, Loop not fused: complex flow graph
         Generated vector simd code for the loop containing reductions
          23, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
main:
    639, Loop not vectorized/parallelized: not countable
int* std::__uninitialized_fill_n<true>::__uninit_fill_n<int*, unsigned long, int>(int*, unsigned long, int const&):
        1149, Recognized memory set idiom
float* std::__uninitialized_fill_n<true>::__uninit_fill_n<float*, unsigned long, float>(float*, unsigned long, float const&):
        1149, Recognized memory set idiom
int* std::__uninitialized_default_n_1<true>::__uninit_default_n<int*, unsigned long>(int*, unsigned long):
        1149, Recognized memory set idiom
std::vector<unsigned char, std::allocator<unsigned char>>::operator[](unsigned long):
             1044, Generating implicit omp declare target routine
                   Generating NVIDIA GPU code
std::vector<int, std::allocator<int>>::vector(unsigned long, int const&, std::allocator<int> const&):
        1595, Recognized memory set idiom
std::vector<int, std::allocator<int>>::_M_fill_initialize(unsigned long, int const&):
         410, Recognized memory set idiom
std::vector<int, std::allocator<int>>::_M_default_initialize(unsigned long):
         704, Recognized memory set idiom
std::vector<float, std::allocator<float>>::vector(unsigned long, float const&, std::allocator<float> const&):
        1595, Recognized memory set idiom
std::vector<float, std::allocator<float>>::_M_fill_initialize(unsigned long, float const&):
         410, Recognized memory set idiom
std::fabs(float):
              242, Generating implicit omp declare target routine
                   Generating NVIDIA GPU code
std::iterator_traits<__gnu_cxx::__normal_iterator<int*, std::vector<int, std::allocator<int>>>>::difference_type std::count<__gnu_cxx::__normal_iterator<int*, std::vector<int, std::allocator<int>>>, int>(__gnu_cxx::__normal_iterator<int*, std::vector<int, std::allocator<int>>>, __gnu_cxx::__normal_iterator<int*, std::vector<int, std::allocator<int>>>, int const&):
      7, include "algorithm"
          10, include "algorithm"
               62, include "stl_algo.h"
                       2124, Generated vector simd code for the loop containing reductions
int* std::__uninitialized_default_n_a<int*, unsigned long, int>(int*, unsigned long, std::allocator<int>&):
         638, Recognized memory set idiom
int* std::__uninitialized_default_n<int*, unsigned long>(int*, unsigned long):
         603, Recognized memory set idiom
int* std::fill_n<int*, unsigned long, int>(int*, unsigned long, int const&):
        1120, Recognized memory set idiom
int* std::__fill_n_a<int*, unsigned long, int>(int*, unsigned long, int const&, std::random_access_iterator_tag):
         969, Recognized memory set idiom
void std::__fill_a<int*, int>(int*, int*, int const&):
         923, Recognized memory set idiom
__gnu_cxx::__enable_if<std::__is_scalar<int>::__value, void>::__type std::__fill_a1<int*, int>(int*, int*, int const&):
      6, include "vector"
          60, include "stl_algobase.h"
              923, Recognized memory set idiom
int* std::__uninitialized_fill_n_a<int*, unsigned long, int, int>(int*, unsigned long, int const&, std::allocator<int>&):
         296, Recognized memory set idiom
int* std::uninitialized_fill_n<int*, unsigned long, int>(int*, unsigned long, int const&):
         255, Recognized memory set idiom
std::iterator_traits<__gnu_cxx::__normal_iterator<int*, std::vector<int, std::allocator<int>>>>::difference_type std::__count_if<__gnu_cxx::__normal_iterator<int*, std::vector<int, std::allocator<int>>>, __gnu_cxx::__ops::_Iter_equals_val<int const>>(__gnu_cxx::__normal_iterator<int*, std::vector<int, std::allocator<int>>>, __gnu_cxx::__normal_iterator<int*, std::vector<int, std::allocator<int>>>, __gnu_cxx::__ops::_Iter_equals_val<int const>):
      6, include "vector"
          60, include "stl_algobase.h"
               71, include "predefined_ops.h"
                  2124, Loop not vectorized/parallelized: not countable
float* std::__uninitialized_fill_n_a<float*, unsigned long, float, float>(float*, unsigned long, float const&, std::allocator<float>&):
         296, Recognized memory set idiom
float* std::uninitialized_fill_n<float*, unsigned long, float>(float*, unsigned long, float const&):
         255, Recognized memory set idiom
float* std::fill_n<float*, unsigned long, float>(float*, unsigned long, float const&):
        1120, Recognized memory set idiom
float* std::__fill_n_a<float*, unsigned long, float>(float*, unsigned long, float const&, std::random_access_iterator_tag):
         969, Recognized memory set idiom
void std::__fill_a<float*, float>(float*, float*, float const&):
         923, Recognized memory set idiom
__gnu_cxx::__enable_if<std::__is_scalar<float>::__value, void>::__type std::__fill_a1<float*, float>(float*, float*, float const&):
      6, include "vector"
          60, include "stl_algobase.h"
              923, Recognized memory set idiom
_INTERNAL_8_main_cpp_3a66a5c8::gate_fnv1a64_bytes(void const*, unsigned long):
     11, include "gate.h"
          15, Loop not vectorized: recurrence
              Loop unrolled 2 times
_INTERNAL_8_main_cpp_3a66a5c8::GATE_CHECKSUM_U8(char const*, unsigned char const*, unsigned long):
          15, Loop not vectorized: recurrence
              Loop unrolled 2 times
_INTERNAL_8_main_cpp_3a66a5c8::GATE_CHECKSUM_BYTES(char const*, void const*, unsigned long):
          15, Loop not vectorized: recurrence
              Loop unrolled 2 times
_INTERNAL_8_main_cpp_3a66a5c8::randu(int*, int):
     30, Generating implicit omp declare target routine
         Generating NVIDIA GPU code
_INTERNAL_8_main_cpp_3a66a5c8::randn(int*, int):
     36, Generating implicit omp declare target routine
         Generating NVIDIA GPU code
_INTERNAL_8_main_cpp_3a66a5c8::roundFloat(float):
     44, Generating implicit omp declare target routine
         Generating NVIDIA GPU code
_INTERNAL_8_main_cpp_3a66a5c8::findIndexDevice(float const*, int, float):
     54, Generating implicit omp declare target routine
         Generating NVIDIA GPU code
     64, Loop not vectorized/parallelized: not countable
"main.cpp", line 318: warning: variable "num_blocks" was declared but never referenced [declared_but_not_referenced]
    int num_blocks = (Nparticles + BLOCK_SIZE - 1) / BLOCK_SIZE;
        ^

Remark: individual warnings can be suppressed with "--diag_suppress <warning-name>"

setIf(int, int, unsigned char*, int*, int*, int*):
     94, Generated vector simd code for the loop
addNoise(unsigned char*, int*, int*, int*, int*):
    108, Loop not vectorized: data dependency
strelDisk(int*, int):
    121, Zero trip check eliminated
         Generated vector simd code for the loop
dilate_matrix(unsigned char*, int, int, int, int, int, int, int):
    148, Loop not vectorized: unsupported scatter
imdilate_disk(unsigned char*, int, int, int, int, unsigned char*):
    160, Loop not vectorized/parallelized: too deeply nested
    161, Loop not vectorized/parallelized: too deeply nested
         148, Loop not vectorized: unsupported scatter
getneighbors(int*, int, int*, int):
    179, Zero trip check eliminated
         Loop not vectorized: data dependency
videoSequence(unsigned char*, int, int, int, int*):
    203, Loop not fused: function call before adjacent loop
         Loop not vectorized: unsupported scatter
         160, Loop not vectorized/parallelized: too deeply nested
         161, Loop not vectorized/parallelized: too deeply nested
         164, Loop not vectorized: unsupported scatter
    219, Recognized memory copy idiom
          92, Loop not fused: unsafe variable with target attribute
          94, Generated vector simd code for the loop
          92, Loop not fused: unsafe variable with target attribute
          94, Generated vector simd code for the loop
         108, Loop not vectorized: data dependency
findIndex(float*, int, float):
    241, Loop not vectorized/parallelized: potential early exits
particleFilter(unsigned char*, int, int, int, int*, int):
         120, Loop not fused: sibling loop may prevent vectorization
         121, Generated vector simd code for the loop
    270, Loop not fused: function call before adjacent loop
         178, Loop not fused: function call before adjacent loop
         179, Loop not vectorized: data dependency
    282, Recognized memory set idiom
    307, Loop not fused: function call before adjacent loop
         Loop versioned for possible aliasing
         Generated vector simd code for the loop
         Loop unrolled 8 times
    348, FMA (fused multiply-add) instruction(s) generated
    354, FMA (fused multiply-add) instruction(s) generated
    360, Loop not fused: complex flow graph
         2 loops fused
         Loop not vectorized: data dependency
    386, Loop not vectorized/parallelized: not countable
    403, Loop not fused: function call before adjacent loop
         Generated vector simd code for the loop containing reductions
         Loop unrolled 8 times
    431, Loop not fused: complex flow graph
         Loop not vectorized: data dependency
         Loop unrolled 8 times
    480, Zero trip check eliminated
         Loop not vectorized/parallelized: potential early exits
    510, Loop not fused: complex flow graph
         Generated vector simd code for the loop containing reductions
    511, FMA (fused multiply-add) instruction(s) generated
    512, FMA (fused multiply-add) instruction(s) generated
          23, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
          35, Loop not fused: function call before adjacent loop
              Loop not vectorized: recurrence
              Loop unrolled 2 times
main:
    627, Loop not vectorized/parallelized: not countable
         203, Loop not fused: function call before adjacent loop
              Loop not vectorized: unsupported scatter
         215, Loop not vectorized/parallelized: too deeply nested
              Loop not vectorized: unsupported scatter
         219, Recognized memory copy idiom
         228, Loop not fused: unsafe variable with target attribute
              Generated vector simd code for the loop
         229, Loop not fused: unsafe variable with target attribute
              Generated vector simd code for the loop
         232, Loop not fused: function call before adjacent loop
              Loop not vectorized: data dependency
_INTERNAL_8_main_cpp_3a66a5c8::gate_fnv1a64_bytes(void const*, unsigned long):
     12, include "gate.h"
          15, Loop not vectorized: recurrence
              Loop unrolled 2 times
_INTERNAL_8_main_cpp_3a66a5c8::GATE_CHECKSUM_U8(char const*, unsigned char const*, unsigned long):
          15, Loop not vectorized: recurrence
              Loop unrolled 2 times
_INTERNAL_8_main_cpp_3a66a5c8::GATE_CHECKSUM_BYTES(char const*, void const*, unsigned long):
          15, Loop not vectorized: recurrence
              Loop unrolled 2 times
make: *** [Makefile.nvc:81: check-correctness] Error 2


==================================================
SUPERVISOR SUMMARY
==================================================
Total kernels processed: 1
Passed correctness: 0
Failed/other: 1

