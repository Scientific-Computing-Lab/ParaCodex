**Summary**
- Hoisted the `records`/`knodes` mapping into a single `#pragma omp target data` region that spans the entire command loop so the tree buffers stay resident and only the per-command key/range arrays move each iteration, cutting repeated `cuMemAllocManaged`/memcpy work (`data/src/b+tree-omp/src/main.c:2052` and block close at `data/src/b+tree-omp/src/main.c:2507`).
- Reworked the `kernel_cpu` loops to cache `const knode *current` and the leaf pointer plus added `#pragma omp simd` to each `thid` scan so the CPU loop no longer reloads `knodes[currKnode[bid]]` on every iteration (`data/src/b+tree-omp/src/kernel/kernel_cpu.c:125`–`:151`).
- `kernel_cpu_2` now caches `local_recstart` in a register before computing `reclength`, keeping the leaf-level scans vectorizable while eliminating the unused `max_nthreads` stub (`data/src/b+tree-omp/src/kernel/kernel_cpu_2.c:110`–`:128`).
- Replaced `optimization_plan.md` with a refreshed analysis/final-summary that documents the new persistent data strategy, kernel tweaks, and the latest timings (`data/src/b+tree-omp/optimization_plan.md:1`).
- Latest `CLASS C` output still reports `Non-Matching CPU-GPU Outputs Beyond Error Threshold of 0.05 Percent: 29615`, matching the pre-change run’s ≈29.5 k mismatches (`data/src/b+tree-omp/current_output.txt:334`).

**Testing**
- `make -f Makefile.nvc clean` (the default `make clean` target is unavailable, so the NVC-specific Makefile is required before every build).
- `timeout 300 make -f Makefile.nvc CC=nvc++ CLASS=C run > current_output.txt 2>&1` (see `data/src/b+tree-omp/current_output.txt` for the latest run details).

**Next Steps**
1. Re-run the CLASS B profiling workflow so the new target-data region and kernel tweaks can be validated against a fresh `profile.log` (verify the `cuda_api_sum`/`cuda_gpu_mem_time_sum` sections for reduced allocations).
2. Investigate the persistent ≈29.6 k CPU/GPU mismatches by fixing the RNG seed or rerunning the comparison with a deterministic dataset to confirm they are inherent to the workload rather than the new mappings.