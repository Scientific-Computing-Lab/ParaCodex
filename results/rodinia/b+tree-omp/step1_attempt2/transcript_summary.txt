- **GPU Offload:** `kernel_gpu` now wraps the query loop in `#pragma omp target data` plus a `target teams loop` so each `bid` iteration runs on the device while `records`, `knodes`, and per-query scratch/output arrays stay resident (see `src/kernel/kernel_cpu.c#L35-L125`).
- **Range Kernel:** `kernel_cpu_2` now hosts its entire traversal/leaf logic inside a `target data` region with maps for `knodes`, the range bounds, and the scratch/output buffers, and the outer loop launches via `target teams loop`, keeping reductions on-device while still reporting timing back to the host (`src/kernel/kernel_cpu_2.c#L60-L167`).
- **Data Plan:** Documented every timed-array, transfer strategy, and the Strategy A checks so the implementation is driven by the new plan (`data_plan.md#L1-L56`).

- **Testing:** 
  - `OMP_TARGET_OFFLOAD=MANDATORY make -f Makefile.nvc CC=nvc++ CLASS=C clean`
  - `OMP_TARGET_OFFLOAD=MANDATORY make -f Makefile.nvc CC=nvc++ CLASS=C`
  - `OMP_TARGET_OFFLOAD=MANDATORY timeout 300 make -f Makefile.nvc CC=nvc++ CLASS=C run > gpu_output.txt 2>&1`
  - `diff baseline_output.txt gpu_output.txt` shows only the runtime section changed; the range kernel now reports `CPU/MCPU: KERNEL 0.146936997771 s` and final CPU/GPU runtimes `0.005292s`/`0.002027s` versus the previous `0.004916s` kernel time and `0.004418s`/`0.003630s` runtimes (`gpu_output.txt#L15-L26` vs `baseline_output.txt#L304-L315`) while `compareResults` still reports zero mismatches.
  - The build still emits the pre-existing `nvc++` warnings about unused locals (`max_nthreads`, `A`) and the implicit `printf` declaration that originate in `src/kernel/kernel_cpu.c#L58-L77` and `src/kernel/kernel_cpu_2.c#L75-L80`.

Next steps (if you want to push further):
1. Run the CLASS B profiling step (`nsys` per instructions) against the new kernels to measure occupancy and memory stalls now that offload is wired up.
2. Clean up the remaining unused locals/implicit prototypes or wrap the timing print in `#ifdef`/`printf` includes to quiet the compiler if those warnings become problematic.