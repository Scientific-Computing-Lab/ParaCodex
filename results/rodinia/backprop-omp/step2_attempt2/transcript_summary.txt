**Summary**
- Declared the loop indices outside every `#pragma omp target teams loop` so the offload regions (`bpnn_layerforward`) no longer rely on in-loop initializers, satisfying the NVC++ requirements without touching the existing data-mapping strategy (`src/backprop.c:255`).
- Applied the same pre-declaration pattern in `bpnn_output_error`, `bpnn_hidden_error`, and `bpnn_adjust_weights`, letting their device reductions/updates compile cleanly while keeping the inner logic intact (`src/backprop.c:281`, `src/backprop.c:300`, `src/backprop.c:332`).
- Re-ran `timeout 300 make -f Makefile.nvc CC=nvc++ CLASS=C run` after cleaning; the build + run now complete successfully (see `current_output.txt`), albeit still printing the original compiler warnings about legacy declarations.

**Next Steps**
- 1. Extract the kernel/transfer metrics from `profile.log` using the provided `grep` commands so we understand current bottlenecks (cuda_gpu_kern_sum, cuda_api_sum, cuda_gpu_mem_time_sum).
- 2. Update `optimization_plan.md` with those findings and a prioritized action list aligned with the Fusion/Data/Kernels guidance before applying further changes.