; ModuleID = 'calcnp.ll'
source_filename = "calcnp.ll"
target datalayout = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-f80:128-n8:16:32:64-S128"
target triple = "x86_64-pc-linux-gnu"

@np = external local_unnamed_addr global [481 x i32], align 4
@jndxp = external local_unnamed_addr global [481 x [19683 x i32]], align 4
@indxp = external local_unnamed_addr global [481 x [19683 x i32]], align 4
@ny = external local_unnamed_addr global i32, align 4
@nz = external local_unnamed_addr global i32, align 4
@nx = external local_unnamed_addr global i32, align 4

; Function Attrs: mustprogress nofree nosync nounwind null_pointer_is_valid memory(readwrite, argmem: none, inaccessiblemem: none)
define dso_local void @calcnp(i32 signext %lst.arg, i32 signext %lend.arg) local_unnamed_addr #0 !dbg !5 {
L.entry:
  %0 = icmp sgt i32 %lst.arg, %lend.arg, !dbg !9
  br i1 %0, label %L.B0003, label %L.B0027, !dbg !9

L.B0027:                                          ; preds = %L.entry
  %reass.sub = sub i32 %lend.arg, %lst.arg, !dbg !9
  %1 = add i32 %reass.sub, 1, !dbg !9
  %2 = load i32, ptr @nx, align 4, !dbg !9, !tbaa !13
  %3 = add i32 %2, -2, !dbg !9
  %4 = load i32, ptr @nz, align 4, !dbg !9, !tbaa !13
  %5 = add i32 %4, -1, !dbg !9
  %6 = load i32, ptr @ny, align 4, !dbg !9, !tbaa !13
  %7 = add i32 %6, -2, !dbg !9
  %8 = add i32 %4, %2
  br label %L.B0002

L.B0002:                                          ; preds = %L.B0008, %L.B0027
  %.X0001.addr.0 = phi i32 [ %1, %L.B0027 ], [ %37, %L.B0008 ], !dbg !9
  %l.addr.0 = phi i32 [ %lst.arg, %L.B0027 ], [ %36, %L.B0008 ], !dbg !17
  %9 = sub i32 %l.addr.0, %8, !dbg !18
  %10 = icmp sgt i32 %9, -2, !dbg !18
  %11 = add i32 %9, 2, !dbg !18
  %.selconv_selectval_1.addr.0 = select i1 %10, i32 %11, i32 1, !dbg !18
  %12 = add i32 %l.addr.0, -2, !dbg !20
  %13 = tail call i32 @llvm.smin.i32(i32 %12, i32 %7), !dbg !20
  %14 = icmp sgt i32 %.selconv_selectval_1.addr.0, %13, !dbg !20
  %.pre = sext i32 %l.addr.0 to i64, !dbg !21
  br i1 %14, label %L.B0008, label %L.B0028, !dbg !20

L.B0028:                                          ; preds = %L.B0002
  %15 = mul nsw i64 %.pre, 78732, !dbg !20
  br label %L.B0005

L.B0005:                                          ; preds = %L.B0014, %L.B0028
  %j.addr.0 = phi i32 [ %.selconv_selectval_1.addr.0, %L.B0028 ], [ %34, %L.B0014 ], !dbg !21
  %n.addr.0 = phi i32 [ 0, %L.B0028 ], [ %n.addr.3, %L.B0014 ], !dbg !22
  %16 = sub i32 %l.addr.0, %j.addr.0, !dbg !18
  %17 = sub i32 %16, %4, !dbg !18
  %18 = icmp sgt i32 %17, -2, !dbg !18
  %19 = add i32 %17, 2, !dbg !18
  %.selconv_selectval_3.addr.0 = select i1 %18, i32 %19, i32 1, !dbg !18
  %20 = add i32 %16, -1, !dbg !18
  %21 = tail call i32 @llvm.smin.i32(i32 %20, i32 %3), !dbg !18
  %22 = icmp sgt i32 %.selconv_selectval_3.addr.0, %21, !dbg !18
  br i1 %22, label %L.B0014, label %L.B0011, !dbg !18

L.B0011:                                          ; preds = %L.B0005, %L.B0017
  %n.addr.1 = phi i32 [ %n.addr.2, %L.B0017 ], [ %n.addr.0, %L.B0005 ], !dbg !22
  %i.addr.0 = phi i32 [ %33, %L.B0017 ], [ %.selconv_selectval_3.addr.0, %L.B0005 ], !dbg !21
  %23 = add i32 %j.addr.0, %i.addr.0, !dbg !23
  %24 = sub i32 %l.addr.0, %23, !dbg !23
  %25 = icmp slt i32 %24, 1, !dbg !24
  %26 = icmp sge i32 %24, %5, !dbg !24
  %or.cond = select i1 %25, i1 true, i1 %26, !dbg !24
  br i1 %or.cond, label %L.B0017, label %L.B0031, !dbg !24

L.B0031:                                          ; preds = %L.B0011
  %27 = add i32 %n.addr.1, 1, !dbg !25
  %28 = sext i32 %27 to i64, !dbg !26
  %29 = shl nsw i64 %28, 2, !dbg !26
  %30 = add nsw i64 %29, %15, !dbg !26
  %31 = getelementptr i8, ptr @indxp, i64 %30, !dbg !26
  store i32 %i.addr.0, ptr %31, align 4, !dbg !26, !tbaa !13
  %32 = getelementptr i8, ptr @jndxp, i64 %30, !dbg !27
  store i32 %j.addr.0, ptr %32, align 4, !dbg !27, !tbaa !13
  br label %L.B0017

L.B0017:                                          ; preds = %L.B0031, %L.B0011
  %n.addr.2 = phi i32 [ %n.addr.1, %L.B0011 ], [ %27, %L.B0031 ], !dbg !21
  %33 = add i32 %i.addr.0, 1, !dbg !28
  %.not = icmp sgt i32 %33, %21, !dbg !28
  br i1 %.not, label %L.B0014, label %L.B0011, !dbg !28

L.B0014:                                          ; preds = %L.B0017, %L.B0005
  %n.addr.3 = phi i32 [ %n.addr.0, %L.B0005 ], [ %n.addr.2, %L.B0017 ], !dbg !22
  %34 = add i32 %j.addr.0, 1, !dbg !29
  %.not21 = icmp sgt i32 %34, %13, !dbg !29
  br i1 %.not21, label %L.B0008, label %L.B0005, !dbg !29

L.B0008:                                          ; preds = %L.B0014, %L.B0002
  %n.addr.4 = phi i32 [ 0, %L.B0002 ], [ %n.addr.3, %L.B0014 ], !dbg !22
  %35 = getelementptr i32, ptr @np, i64 %.pre, !dbg !30
  store i32 %n.addr.4, ptr %35, align 4, !dbg !30, !tbaa !13
  %36 = add i32 %l.addr.0, 1, !dbg !31
  %37 = add i32 %.X0001.addr.0, -1, !dbg !9
  %38 = icmp sgt i32 %37, 0, !dbg !31
  br i1 %38, label %L.B0002, label %L.B0003, !dbg !31

L.B0003:                                          ; preds = %L.B0008, %L.entry
  ret void, !dbg !32
}

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i32 @llvm.smin.i32(i32, i32) #1

attributes #0 = { mustprogress nofree nosync nounwind null_pointer_is_valid memory(readwrite, argmem: none, inaccessiblemem: none) "target-cpu"="icelake-server" "target-features"="+prfchw,-cldemote,+avx,+aes,+sahf,+pclmul,-xop,+crc32,+xsaves,-avx512fp16,-sm4,+sse4.1,+avx512ifma,+xsave,-avx512pf,+sse4.2,-tsxldtrk,-ptwrite,-widekl,-sm3,+invpcid,+64bit,+xsavec,+avx512vpopcntdq,+cmov,-avx512vp2intersect,+avx512cd,+movbe,-avxvnniint8,-avx512er,-amx-int8,-kl,-sha512,-avxvnni,-rtm,+adx,+avx2,-hreset,-movdiri,-serialize,+vpclmulqdq,+avx512vl,-uintr,+clflushopt,-raoint,-cmpccxadd,+bmi,-amx-tile,+sse,+gfni,-avxvnniint16,-amx-fp16,+xsaveopt,+rdrnd,+avx512f,-amx-bf16,-avx512bf16,+avx512vnni,+cx8,+avx512bw,+sse3,+pku,+fsgsbase,-clzero,-mwaitx,-lwp,+lzcnt,+sha,-movdir64b,+wbnoinvd,-enqcmd,-prefetchwt1,-avxneconvert,-tbm,+pconfig,-amx-complex,+ssse3,+cx16,+bmi2,+fma,+popcnt,-avxifma,+f16c,+avx512bitalg,-rdpru,+clwb,+mmx,+sse2,+rdseed,+avx512vbmi2,-prefetchi,+rdpid,-fma4,+avx512vbmi,-shstk,+vaes,-waitpkg,+sgx,+fxsr,+avx512dq,-sse4a" }
attributes #1 = { nocallback nofree nosync nounwind speculatable willreturn memory(none) }

!llvm.module.flags = !{!0, !1}
!llvm.dbg.cu = !{!2}

!0 = !{i32 2, !"Dwarf Version", i32 4}
!1 = !{i32 2, !"Debug Info Version", i32 3}
!2 = distinct !DICompileUnit(language: DW_LANG_C_plus_plus, file: !3, producer: " NVC++ 24.7-0", isOptimized: false, runtimeVersion: 0, emissionKind: FullDebug, enums: !4, retainedTypes: !4, globals: !4, imports: !4)
!3 = !DIFile(filename: "calcnp.c", directory: "/mnt/lbosm1/home/yonif/NPB-fornow/NPB-paper/openacc-npb-saturator-transformed-intel_migration/LU/LU")
!4 = !{}
!5 = distinct !DISubprogram(name: "calcnp", scope: !2, file: !3, line: 32, type: !6, scopeLine: 32, spFlags: DISPFlagDefinition, unit: !2)
!6 = !DISubroutineType(types: !7)
!7 = !{null, !8, !8}
!8 = !DIBasicType(name: "int", size: 32, align: 32, encoding: DW_ATE_signed)
!9 = !DILocation(line: 36, column: 1, scope: !10)
!10 = !DILexicalBlock(scope: !11, file: !3, line: 35, column: 1)
!11 = !DILexicalBlock(scope: !12, file: !3, line: 35, column: 1)
!12 = !DILexicalBlock(scope: !5, file: !3, line: 32, column: 1)
!13 = !{!14, !14, i64 0, i64 0}
!14 = !{!"int", !15}
!15 = !{!"omnipotent char", !16}
!16 = !{!"PGI C[++] TBAA"}
!17 = !DILocation(line: 0, scope: !10)
!18 = !DILocation(line: 41, column: 1, scope: !19)
!19 = !DILexicalBlock(scope: !10, file: !3, line: 37, column: 1)
!20 = !DILocation(line: 39, column: 1, scope: !19)
!21 = !DILocation(line: 0, scope: !19)
!22 = !DILocation(line: 38, column: 1, scope: !19)
!23 = !DILocation(line: 43, column: 1, scope: !19)
!24 = !DILocation(line: 44, column: 1, scope: !19)
!25 = !DILocation(line: 46, column: 1, scope: !19)
!26 = !DILocation(line: 47, column: 1, scope: !19)
!27 = !DILocation(line: 48, column: 1, scope: !19)
!28 = !DILocation(line: 50, column: 1, scope: !19)
!29 = !DILocation(line: 51, column: 1, scope: !19)
!30 = !DILocation(line: 52, column: 1, scope: !19)
!31 = !DILocation(line: 53, column: 1, scope: !10)
!32 = !DILocation(line: 55, column: 1, scope: !12)
